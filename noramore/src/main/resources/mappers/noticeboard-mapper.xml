<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE mapper PUBLIC
"-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="noticeMapper">

	<resultMap type="Notice" id="resultlist">
		<result property="BOARD_ID" column="boardId"/>
		<result property="MEMBER_ID" column="memberId"/>
		<result property="TITLE" column="title"/>
		<result property="SUBSTANCE" column="substance"/>
		<result property="READ_COUNT" column="readCount"/>
		<result property="REGIST_DT" column="registDt"/>
		<result property="LAST_UPD_DT" column="lastUpdDt"/>	
	</resultMap>
	
	<select id="selectListCount" resultType="_int">
		select count(*) from board
	</select>
	
	<select id="selectList" parameterType="Paging" resultMap="resultlist">
	select * 
		from (select rownum rnum, board_id, member_id, title,
                substance, read_count, regist_dt, last_upd_dt
		      from (select * from notice_board
		           where title like '%' || #{keyword} || '%' 
		           order by board_id desc)
		     ) 
		where rnum between #{ startRow } and #{ endRow }
	
	</select>
</mapper>
