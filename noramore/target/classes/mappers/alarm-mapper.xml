<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE mapper PUBLIC
"-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="alarm">

	<resultMap type="Alarm" id="resultList">
		<id property="alarmId" column="alarm_id"/>
		<result property="alarmKind" column="ALARM_KIND"/>
		<result property="receiverId" column="RECEIVER_ID"/>
		<result property="senderId" column="SENDER_ID"/>
		<result property="checkedYN" column="CHECKED_YN"/>
		<result property="registDate" column="REGIST_DATE"/>
		
		<result property="memberId" column="MEMBER_ID"/>
		<result property="categoryId" column="CATEGORY_ID"/>
		<result property="title" column="TITLE"/>
	</resultMap>

	<select id="selectList" parameterType="Paging" resultMap="resultList">
		select *
		from (select rownum rnum, 
		     from (select *
		     		from alarm
		     		inner join recr_board on (sender_id = member_id)
		           order by board_ref desc, board_reply_ref desc,
		                    board_lev asc, board_reply_seq asc))
		where rnum between #{ startRow } and #{ endRow }  
	</select>

</mapper>
